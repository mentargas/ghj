# دليل استخدام TweetSMS API

## نظرة عامة
تم إضافة تكامل كامل مع TweetSMS API لإرسال الرسائل القصيرة مباشرةً من التطبيق.

## كيفية الوصول

1. افتح التطبيق في المتصفح
2. انقر على "الدخول الإداري" في الصفحة الرئيسية
3. اختر "اختبار TweetSMS" من القائمة المنسدلة

## المميزات

### ✅ إرسال الرسائل القصيرة
- إرسال رسائل SMS إلى أرقام فلسطينية
- التحقق التلقائي من صيغة الأرقام
- دعم كامل للنصوص العربية والإنجليزية
- عداد تلقائي للأحرف مع حساب عدد الرسائل

### ✅ عرض الرصيد
- عرض الرصيد المتاح بشكل تلقائي
- تحديث الرصيد بعد كل إرسال

### ✅ التحقق من الصحة
- التحقق من صيغة رقم الهاتف (يجب أن يبدأ بـ 972 أو 0)
- التحقق من اسم المرسل (11 حرف كحد أقصى)
- التحقق من طول الرسالة
  - الرسائل العربية: 70 حرف للرسالة الواحدة
  - الرسائل الإنجليزية: 160 حرف للرسالة الواحدة

### ✅ معالجة الأخطاء
- رسائل خطأ واضحة باللغة العربية
- عرض رمز الخطأ للمساعدة في التشخيص
- معالجة جميع حالات الخطأ من TweetSMS API

## صيغ الأرقام المدعومة

يمكنك إدخال الرقم بأي من الصيغ التالية:
- `972592106099` (مع كود الدولة)
- `0592106099` (بدون كود الدولة)
- `+972592106099` (مع علامة +)
- `00972592106099` (مع 00)

سيتم تحويل جميع الصيغ تلقائياً إلى `972XXXXXXXXX`

## رموز الأخطاء الشائعة

| الرمز | الوصف |
|------|-------|
| -100 | معاملات مفقودة |
| -110 | اسم المستخدم أو كلمة المرور خاطئة |
| -111 | رقم الهاتف خاطئ |
| -113 | رصيد غير كافٍ |
| -115 | المرسل غير متاح |
| -116 | اسم المرسل غير صالح |
| -2 | وجهة غير صالحة أو دولة غير مدعومة |
| -999 | فشل الإرسال من مزود الرسائل |
| 1 أو 999 | نجح |

## ملاحظات هامة

1. **الرصيد**: تأكد من وجود رصيد كافٍ قبل إرسال الرسائل
2. **اسم المرسل**: يجب أن يكون اسم المرسل مفعّل في حسابك على TweetSMS
3. **الرسائل الطويلة**: سيتم تقسيم الرسائل الطويلة إلى عدة رسائل تلقائياً
4. **التكلفة**: كل رسالة إضافية (بعد الأولى) تُحسب كرسالة منفصلة

## API Key الحالي

```
04e56a90592de205c8c0938efc7b52a5f564911f9f12beeb0258271897414f59
```

## الملفات المضافة

- `/src/services/tweetSmsService.ts` - خدمة TweetSMS API الرئيسية
- `/src/components/pages/TweetSmsTestPage.tsx` - صفحة الاختبار
- تم تحديث `/src/App.tsx` لإضافة المسار الجديد
- تم تحديث `/src/components/LandingPage.tsx` لإضافة زر الوصول

## الوظائف المتاحة في الخدمة

```typescript
// إرسال رسالة
await smsService.sendSMS({
  to: '972592106099',
  message: 'نص الرسالة',
  sender: 'Wefrh App'
});

// التحقق من الرصيد
await smsService.checkBalance();

// الحصول على تفاصيل الرسالة
await smsService.getMessageDetails('message_id');

// الحصول على الأرشيف
await smsService.getArchive({
  fromTime: '2024-01-01',
  toTime: '2024-12-31',
  mobile: '972592106099',
  sender: 'Wefrh App',
  displayLength: 20,
  displayStart: 0
});
```

## الدعم

للحصول على مفتاح API جديد أو لأي استفسارات:
واتساب: 972594127070
