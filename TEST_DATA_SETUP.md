# ุฅุนุฏุงุฏ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ููุงุฎุชุจุงุฑ

## ๐ ููููุฉ ุฅุถุงูุฉ ูุณุชููุฏ ุชุฌุฑูุจู ููุงุฎุชุจุงุฑ

ูุงุฎุชุจุงุฑ ุตูุญุฉ ุงูุจุญุซ ุงููุชูุฏูุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุจุนุถ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ูู ูุงุนุฏุฉ ุจูุงูุงุช Supabase.

---

## ๐ง ุงูุทุฑููุฉ 1: ุงุณุชุฎุฏุงู Supabase SQL Editor

1. ุงูุชุญ ููุญุฉ ุชุญูู Supabase: https://app.supabase.com
2. ุงุฎุชุฑ ูุดุฑูุนู
3. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ **SQL Editor**
4. ุงูุณุฎ ูุงูุตู ุงูููุฏ SQL ุงูุชุงูู:

```sql
-- ุฅุถุงูุฉ ูุณุชููุฏ ุชุฌุฑูุจู
INSERT INTO beneficiaries (
    name,
    full_name,
    national_id,
    date_of_birth,
    gender,
    phone,
    address,
    detailed_address,
    profession,
    marital_status,
    economic_level,
    members_count,
    identity_status,
    status,
    eligibility_status,
    notes
) VALUES (
    'ูุงุทูุฉ ุฃุญูุฏ ุฃุจู ุนุงูุฑ',
    'ูุงุทูุฉ ุฃุญูุฏ ูุญููุฏ ุฃุจู ุนุงูุฑ',
    '900234567',
    '1985-03-15',
    'female',
    '+970599123456',
    'ุบุฒุฉ - ุญู ุงูุดุฌุงุนูุฉ',
    '{"governorate": "ุบุฒุฉ", "city": "ุบุฒุฉ", "district": "ุงูุดุฌุงุนูุฉ", "street": "ุดุงุฑุน ุตูุงุญ ุงูุฏูู"}',
    'ูุนููุฉ',
    'married',
    'poor',
    6,
    'verified',
    'active',
    'eligible',
    'ูุณุชููุฏุฉ ูุดุทุฉ - ุฃุณุฑุฉ ููููุฉ ูู 6 ุฃูุฑุงุฏ'
);

-- ุงุญุตู ุนูู ID ุงููุณุชููุฏ ุงูุฐู ุชู ุฅุถุงูุชู
WITH new_beneficiary AS (
    SELECT id FROM beneficiaries WHERE national_id = '900234567' LIMIT 1
)
-- ุฅุถุงูุฉ ุจุนุถ ุงูุทุฑูุฏ ูููุณุชููุฏ
INSERT INTO packages (
    name,
    type,
    description,
    value,
    funder,
    beneficiary_id,
    status,
    tracking_number,
    created_at
)
SELECT
    'ุทุฑุฏ ุบุฐุงุฆู ุดูุฑู',
    'food',
    'ุทุฑุฏ ูุญุชูู ุนูู ููุงุฏ ุบุฐุงุฆูุฉ ุฃุณุงุณูุฉ: ุฃุฑุฒุ ุณูุฑุ ุฒูุชุ ูุนูุฑููุฉุ ุนูุจ ุชููุฉุ ุนุฏุณ',
    250,
    'ุงูุฃููุฑูุง',
    id,
    'delivered',
    'PKG-2024-001',
    NOW() - INTERVAL '20 days'
FROM new_beneficiary
UNION ALL
SELECT
    'ุญููุจุฉ ูุฏุฑุณูุฉ',
    'education',
    'ุญููุจุฉ ูุฏุฑุณูุฉ ุชุญุชูู ุนูู: ุฏูุงุชุฑุ ุฃููุงูุ ูุณุทุฑุฉุ ููุญุงุฉุ ุฃููุงู',
    80,
    'ุงูููููุณูู',
    id,
    'delivered',
    'PKG-2024-002',
    NOW() - INTERVAL '15 days'
FROM new_beneficiary
UNION ALL
SELECT
    'ุทุฑุฏ ุตุญู',
    'medical',
    'ูุณุชูุฒูุงุช ุทุจูุฉ ููุธุงูุฉ ุดุฎุตูุฉ: ุตุงุจููุ ุดุงูุจูุ ูุนููุงุชุ ููุงูุงุช',
    120,
    'ููุธูุฉ ุงูุตุญุฉ ุงูุนุงูููุฉ',
    id,
    'in_delivery',
    'PKG-2024-003',
    NOW() - INTERVAL '2 days'
FROM new_beneficiary
UNION ALL
SELECT
    'ุทุฑุฏ ุดุชูู',
    'clothing',
    'ููุงุจุณ ุดุชููุฉ: ุจุทุงููุงุชุ ูุนุงุทูุ ุฌูุงุฑุจ ุตูููุฉ',
    300,
    'ุงูููุงู ุงูุฃุญูุฑ',
    id,
    'pending',
    'PKG-2024-004',
    NOW()
FROM new_beneficiary;

-- ุชุฃูุฏ ูู ุงูุจูุงูุงุช
SELECT
    b.name,
    b.national_id,
    b.identity_status,
    b.eligibility_status,
    COUNT(p.id) as total_packages
FROM beneficiaries b
LEFT JOIN packages p ON p.beneficiary_id = b.id
WHERE b.national_id = '900234567'
GROUP BY b.id, b.name, b.national_id, b.identity_status, b.eligibility_status;
```

5. ุงุถุบุท **RUN** ุฃู **Ctrl+Enter**
6. ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ ูุฌุงุญ

---

## ๐งช ุงูุทุฑููุฉ 2: ุฅุถุงูุฉ ุนุฏุฉ ูุณุชููุฏูู ุชุฌุฑูุจููู

```sql
-- ุฅุถุงูุฉ 3 ูุณุชููุฏูู ุจุญุงูุงุช ูุฎุชููุฉ
INSERT INTO beneficiaries (
    name, full_name, national_id, date_of_birth, gender, phone,
    address, profession, marital_status, economic_level, members_count,
    identity_status, status, eligibility_status, notes
) VALUES
-- ูุณุชููุฏ ููุซู ููุคูู
(
    'ูุญูุฏ ุญุณู ุงูุฎุงูุฏู',
    'ูุญูุฏ ุญุณู ุฃุญูุฏ ุงูุฎุงูุฏู',
    '900111222',
    '1980-06-20',
    'male',
    '+970599111222',
    'ุฑูุญ - ุชู ุงูุณูุทุงู',
    'ูุฌุงุฑ',
    'married',
    'very_poor',
    8,
    'verified',
    'active',
    'eligible',
    'ุฃุณุฑุฉ ูุจูุฑุฉ ุจุญุงุฌุฉ ููุณุงุนุฏุงุช ููุชุธูุฉ'
),
-- ูุณุชููุฏ ูู ุงูุชุธุงุฑ ุงูุชูุซูู
(
    'ููุฑ ุนุจุฏ ุงููู ูุงุณู',
    'ููุฑ ุนุจุฏ ุงููู ูุญููุฏ ูุงุณู',
    '900333444',
    '1992-11-10',
    'female',
    '+970599333444',
    'ุฎุงู ูููุณ - ุงูููุงุตู',
    'ุฑุจุฉ ููุฒู',
    'married',
    'poor',
    4,
    'pending',
    'pending',
    'under_review',
    'ูู ุงูุชุธุงุฑ ูุฑุงุฌุนุฉ ุงููุณุชูุฏุงุช'
),
-- ูุณุชููุฏ ูุญุชุงุฌ ุชุญุฏูุซ ูุณุชูุฏุงุช
(
    'ุฎุงูุฏ ููุณู ุงูุฃุบุง',
    'ุฎุงูุฏ ููุณู ุณุนูุฏ ุงูุฃุบุง',
    '900555666',
    '1988-02-28',
    'male',
    '+970599555666',
    'ุฏูุฑ ุงูุจูุญ - ุงูุจุฑูุฌ',
    'ุณุงุฆู',
    'married',
    'moderate',
    5,
    'rejected',
    'suspended',
    'under_review',
    'ูุญุชุงุฌ ุชุญุฏูุซ ุตูุฑุฉ ุงููููุฉ'
);
```

---

## โ ุงุฎุชุจุงุฑ ุงูุจูุงูุงุช

ุจุนุฏ ุฅุถุงูุฉ ุงูุจูุงูุงุชุ ุฌุฑุจ ุงูุจุญุซ ุจุงุณุชุฎุฏุงู ุฃุฑูุงู ุงููููุฉ ุงูุชุงููุฉ:

| ุฑูู ุงููููุฉ | ุงูุงุณู | ุญุงูุฉ ุงูุชูุซูู | ุญุงูุฉ ุงูุฃูููุฉ |
|------------|-------|--------------|--------------|
| `900234567` | ูุงุทูุฉ ุฃุญูุฏ ุฃุจู ุนุงูุฑ | ููุซู โ | ูุคูู โ |
| `900111222` | ูุญูุฏ ุญุณู ุงูุฎุงูุฏู | ููุซู โ | ูุคูู โ |
| `900333444` | ููุฑ ุนุจุฏ ุงููู ูุงุณู | ุจุงูุชุธุงุฑ ุงูุชูุซูู โณ | ุชุญุช ุงููุฑุงุฌุนุฉ โณ |
| `900555666` | ุฎุงูุฏ ููุณู ุงูุฃุบุง | ูุญุชุงุฌ ุชุญุฏูุซ โ | ุชุญุช ุงููุฑุงุฌุนุฉ โณ |

---

## ๐ฏ ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ ุงููุงููุฉ

1. **ุฃุถู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ** ุจุงุณุชุฎุฏุงู ุฅุญุฏู ุงูุทุฑููุชูู ุฃุนูุงู
2. **ุดุบู ุงูุชุทุจูู**: `npm run dev`
3. **ุงูุชุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**
4. **ุงููุฑ ุนูู ุงูุฒุฑ ุงูุฃุฎุถุฑ**: "ุงูุจุญุซ ุงููุชูุฏู ุนู ุงููุณุชููุฏูู"
5. **ุฃุฏุฎู ุฑูู ูููุฉ**: `900234567`
6. **ุงุถุบุท ุจุญุซ**
7. **ุงุณุชูุดู ุงูุชุจููุจุงุช**:
   - **ูุธุฑุฉ ุนุงูุฉ**: ุดุงูุฏ ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ ูุงูุฅุญุตุงุฆูุงุช
   - **ุจูุงูุงุช ุงููุณุชููุฏ**: ุดุงูุฏ ุฌููุน ุงูุชูุงุตูู ูุฌุฑุจ ุชุนุฏูู ุงูุจูุงูุงุช
   - **ุงูุทุฑูุฏ**: ุดุงูุฏ ูุงุฆูุฉ ุงูุทุฑูุฏ ูุน ุงูููุงุชุฑ

---

## ๐ ุงุณุชุนูุงูุงุช ูููุฏุฉ ููุชุญูู

```sql
-- ุนุฑุถ ุฌููุน ุงููุณุชููุฏูู
SELECT name, national_id, identity_status, eligibility_status
FROM beneficiaries
ORDER BY created_at DESC;

-- ุนุฑุถ ุงูุทุฑูุฏ ููุณุชููุฏ ูุนูู
SELECT p.name, p.status, p.tracking_number, b.name as beneficiary_name
FROM packages p
JOIN beneficiaries b ON p.beneficiary_id = b.id
WHERE b.national_id = '900234567';

-- ุญุฐู ุจูุงูุงุช ุชุฌุฑูุจูุฉ (ุฅุฐุง ุฃุฑุฏุช ุงูุจุฏุก ูู ุฌุฏูุฏ)
DELETE FROM packages WHERE beneficiary_id IN (
    SELECT id FROM beneficiaries WHERE national_id IN ('900234567', '900111222', '900333444', '900555666')
);

DELETE FROM beneficiaries WHERE national_id IN ('900234567', '900111222', '900333444', '900555666');
```

---

## ๐ก ููุงุญุธุงุช ูููุฉ

1. **ุงูุชูุงุฑูุฎ**: ุงูุทุฑูุฏ ุชุณุชุฎุฏู ุชูุงุฑูุฎ ูุณุจูุฉ (ูุซู: ููุฐ 20 ููู) ูุชุจุฏู ูุงูุนูุฉ
2. **ุงูุญุงูุงุช ุงููุฎุชููุฉ**: ุชู ุฅุถุงูุฉ ูุณุชููุฏูู ุจุญุงูุงุช ูุฎุชููุฉ ูุงุฎุชุจุงุฑ ุฌููุน ุงูุณููุงุฑูููุงุช
3. **ุงูุทุฑูุฏ**: ุงููุณุชููุฏ ุงูุฃูู ูุฏูู 4 ุทุฑูุฏ ุจุญุงูุงุช ูุฎุชููุฉ (ููุณูููุ ููุฏ ุงูุชูุตููุ ูุนูู)
4. **ุงูุชุนุฏูู**: ููููู ุชุนุฏูู ุงูุจูุงูุงุช ูู ุชุจููุจุฉ "ุจูุงูุงุช ุงููุณุชููุฏ"

---

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

ุฅุฐุง ูู ุชุธูุฑ ุงูุจูุงูุงุช:

1. **ุชุญูู ูู ุงูุงุชุตุงู ุจู Supabase**:
   - ุงูุชุญ Developer Console (F12)
   - ุงุจุญุซ ุนู ุฃุฎุทุงุก ูู ุชุจููุจ Console
   - ุชุฃูุฏ ูู ุตุญุฉ `.env` file

2. **ุชุญูู ูู ูุฌูุฏ ุงูุจูุงูุงุช**:
   ```sql
   SELECT COUNT(*) FROM beneficiaries;
   SELECT COUNT(*) FROM packages;
   ```

3. **ุชุญูู ูู Row Level Security (RLS)**:
   - ุชุฃูุฏ ูู ุฃู RLS ูุง ูููุน ูุฑุงุกุฉ ุงูุจูุงูุงุช
   - ุฃู ูู ุจุชุนุทูู RLS ูุคูุชุงู ููุงุฎุชุจุงุฑ

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2025-11-10
**ุงูุบุฑุถ:** ุงุฎุชุจุงุฑ ุตูุญุฉ ุงูุจุญุซ ุงููุชูุฏู
